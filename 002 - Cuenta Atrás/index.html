<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cuenta Atrás</title>
    <meta
      name="description"
      content="Cuenta atrás para nuestro próximo aniversario."
    />
    <style>
      @font-face {
        font-family: "GabriolaWFF";
        src: url("font/GABRWFFR.TTF") format("truetype");
        font-display: swap;
      }

      :root {
        color-scheme: dark;
        --bg: #0b1412;
        --card: rgba(18, 28, 26, 0.92);
        --text: #f1efe6;
        --muted: rgba(241, 239, 230, 0.62);
        --accent: #8fd9c5;
        --accent-2: #f3c892;
        --border: rgba(255, 255, 255, 0.08);
        --shadow: 0 16px 40px rgba(0, 0, 0, 0.35);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        background: radial-gradient(
            700px circle at 20% 10%,
            rgba(143, 217, 197, 0.15),
            transparent 60%
          ),
          radial-gradient(
            650px circle at 80% 20%,
            rgba(243, 200, 146, 0.12),
            transparent 65%
          ),
          var(--bg);
        color: var(--text);
        font-family: "GabriolaWFF", "Segoe UI", sans-serif;
      }

      main {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 32px 16px 64px;
        gap: 28px;
        position: relative;
      }

      .back {
        position: absolute;
        top: 24px;
        left: 24px;
        text-decoration: none;
        color: var(--text);
        padding: 10px 18px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        font-size: 14px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
      }

      .logo {
        width: min(520px, 88vw);
        height: auto;
        display: block;
        filter: drop-shadow(0 18px 40px rgba(0, 0, 0, 0.5));
      }

      .card {
        width: min(720px, 92vw);
        background: var(--card);
        border-radius: 28px;
        padding: 28px 24px 32px;
        box-shadow: var(--shadow);
        border: 1px solid var(--border);
        display: grid;
        gap: 16px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .card::before {
        content: "";
        position: absolute;
        inset: -40% 40% 40% -40%;
        background: radial-gradient(
          circle,
          rgba(143, 217, 197, 0.3),
          transparent 70%
        );
        opacity: 0.6;
      }

      .card::after {
        content: "";
        position: absolute;
        inset: 55% -20% -20% 55%;
        background: radial-gradient(
          circle,
          rgba(243, 200, 146, 0.25),
          transparent 70%
        );
        opacity: 0.55;
      }

      .card > * {
        position: relative;
        z-index: 1;
      }

      .eyebrow {
        margin: 0;
        font-size: 16px;
        letter-spacing: 0.22em;
        text-transform: uppercase;
        color: var(--accent);
      }

      .timer {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 12px;
      }

      .time-box {
        padding: 14px 10px 16px;
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(12, 20, 18, 0.7);
        display: grid;
        gap: 4px;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
      }

      .time-value {
        font-size: clamp(30px, 5vw, 44px);
        font-weight: 600;
      }

      .time-label {
        font-size: 13px;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: var(--muted);
      }

      .next-date {
        margin: 0;
        font-size: 18px;
        color: var(--muted);
      }

      .note {
        margin: 0;
        font-size: 18px;
        color: var(--accent-2);
      }

      .together-title {
        margin: 0;
        font-size: clamp(18px, 3.4vw, 26px);
        font-weight: 500;
        color: var(--muted);
      }

      @media (max-width: 600px) {
        main {
          padding-top: 76px;
        }

        .back {
          position: static;
        }

        .timer {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }
    </style>
  </head>
  <body>
    <main>
      <a class="back" href="../index.html">Volver</a>
      <img class="logo" src="logos/logo.png" alt="Cuenta Atrás" />
      <section class="card">
        <p class="eyebrow">Nuestro próximo 13</p>
        <div class="timer" aria-live="polite">
          <div class="time-box">
            <span class="time-value" id="days">00</span>
            <span class="time-label">Días</span>
          </div>
          <div class="time-box">
            <span class="time-value" id="hours">00</span>
            <span class="time-label">Horas</span>
          </div>
          <div class="time-box">
            <span class="time-value" id="minutes">00</span>
            <span class="time-label">Minutos</span>
          </div>
          <div class="time-box">
            <span class="time-value" id="seconds">00</span>
            <span class="time-label">Segundos</span>
          </div>
        </div>
        <p class="next-date" id="next-date">Cargando...</p>
        <p class="note" id="anniversary-note" hidden>Hoy es 13. Feliz aniversario.</p>
      </section>
      <section class="card">
        <p class="eyebrow">Tiempo juntos</p>
        <div class="timer" aria-live="polite">
          <div class="time-box">
            <span class="time-value" id="together-days">00</span>
            <span class="time-label">Días</span>
          </div>
          <div class="time-box">
            <span class="time-value" id="together-hours">00</span>
            <span class="time-label">Horas</span>
          </div>
          <div class="time-box">
            <span class="time-value" id="together-minutes">00</span>
            <span class="time-label">Minutos</span>
          </div>
          <div class="time-box">
            <span class="time-value" id="together-seconds">00</span>
            <span class="time-label">Segundos</span>
          </div>
        </div>
        <p class="next-date">Desde el 13 de diciembre de 2025</p>
      </section>
      <section class="card">
        <p class="eyebrow">Aniversario anual</p>
        <div class="timer" aria-live="polite">
          <div class="time-box">
            <span class="time-value" id="annual-days">00</span>
            <span class="time-label">Días</span>
          </div>
          <div class="time-box">
            <span class="time-value" id="annual-hours">00</span>
            <span class="time-label">Horas</span>
          </div>
          <div class="time-box">
            <span class="time-value" id="annual-minutes">00</span>
            <span class="time-label">Minutos</span>
          </div>
          <div class="time-box">
            <span class="time-value" id="annual-seconds">00</span>
            <span class="time-label">Segundos</span>
          </div>
        </div>
        <p class="next-date" id="annual-date">Cargando...</p>
      </section>
    </main>
    <script>
      const daysEl = document.getElementById("days");
      const hoursEl = document.getElementById("hours");
      const minutesEl = document.getElementById("minutes");
      const secondsEl = document.getElementById("seconds");
      const nextDateEl = document.getElementById("next-date");
      const noteEl = document.getElementById("anniversary-note");
      const togetherDaysEl = document.getElementById("together-days");
      const togetherHoursEl = document.getElementById("together-hours");
      const togetherMinutesEl = document.getElementById("together-minutes");
      const togetherSecondsEl = document.getElementById("together-seconds");
      const annualDaysEl = document.getElementById("annual-days");
      const annualHoursEl = document.getElementById("annual-hours");
      const annualMinutesEl = document.getElementById("annual-minutes");
      const annualSecondsEl = document.getElementById("annual-seconds");
      const annualDateEl = document.getElementById("annual-date");

      const months = [
        "enero",
        "febrero",
        "marzo",
        "abril",
        "mayo",
        "junio",
        "julio",
        "agosto",
        "septiembre",
        "octubre",
        "noviembre",
        "diciembre",
      ];

      const startDate = new Date(2025, 11, 13, 0, 0, 0, 0);

      const getNextAnniversary = (now) => {
        const year = now.getFullYear();
        const month = now.getMonth();
        let target = new Date(year, month, 13, 0, 0, 0, 0);
        if (now >= target) {
          target = new Date(year, month + 1, 13, 0, 0, 0, 0);
        }
        return target;
      };

      const getNextYearAnniversary = (now) => {
        const baseYear = startDate.getFullYear();
        let targetYear = now.getFullYear();
        if (now.getMonth() < startDate.getMonth()) {
          targetYear = now.getFullYear();
        } else if (
          now.getMonth() === startDate.getMonth() &&
          now.getDate() <= startDate.getDate()
        ) {
          targetYear = now.getFullYear();
        } else {
          targetYear = now.getFullYear() + 1;
        }
        if (targetYear < baseYear + 1) {
          targetYear = baseYear + 1;
        }
        return new Date(
          targetYear,
          startDate.getMonth(),
          startDate.getDate(),
          0,
          0,
          0,
          0
        );
      };

      const updateCountdown = () => {
        const now = new Date();
        const target = getNextAnniversary(now);
        const diff = Math.max(0, target - now);
        const totalSeconds = Math.floor(diff / 1000);

        const days = Math.floor(totalSeconds / 86400);
        const hours = Math.floor((totalSeconds % 86400) / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;

        daysEl.textContent = String(days).padStart(2, "0");
        hoursEl.textContent = String(hours).padStart(2, "0");
        minutesEl.textContent = String(minutes).padStart(2, "0");
        secondsEl.textContent = String(seconds).padStart(2, "0");

        const monthName = months[target.getMonth()];
        nextDateEl.textContent = `Próximo aniversario: 13 de ${monthName} ${target.getFullYear()}`;

        if (now.getDate() === 13) {
          noteEl.hidden = false;
        } else {
          noteEl.hidden = true;
        }

        const togetherDiff = Math.max(0, now - startDate);
        const togetherSeconds = Math.floor(togetherDiff / 1000);
        const togetherDays = Math.floor(togetherSeconds / 86400);
        const togetherHours = Math.floor((togetherSeconds % 86400) / 3600);
        const togetherMinutes = Math.floor((togetherSeconds % 3600) / 60);
        const togetherSecs = togetherSeconds % 60;

        togetherDaysEl.textContent = String(togetherDays).padStart(2, "0");
        togetherHoursEl.textContent = String(togetherHours).padStart(2, "0");
        togetherMinutesEl.textContent = String(togetherMinutes).padStart(2, "0");
        togetherSecondsEl.textContent = String(togetherSecs).padStart(2, "0");

        const annualTarget = getNextYearAnniversary(now);
        const annualDiff = Math.max(0, annualTarget - now);
        const annualTotalSeconds = Math.floor(annualDiff / 1000);
        const annualDays = Math.floor(annualTotalSeconds / 86400);
        const annualHours = Math.floor((annualTotalSeconds % 86400) / 3600);
        const annualMinutes = Math.floor((annualTotalSeconds % 3600) / 60);
        const annualSeconds = annualTotalSeconds % 60;

        annualDaysEl.textContent = String(annualDays).padStart(2, "0");
        annualHoursEl.textContent = String(annualHours).padStart(2, "0");
        annualMinutesEl.textContent = String(annualMinutes).padStart(2, "0");
        annualSecondsEl.textContent = String(annualSeconds).padStart(2, "0");

        const yearsCount = annualTarget.getFullYear() - startDate.getFullYear();
        const yearLabel = yearsCount === 1 ? "año" : "años";
        const annualMonthName = months[annualTarget.getMonth()];
        annualDateEl.textContent = `Para cumplir ${yearsCount} ${yearLabel}: 13 de ${annualMonthName} ${annualTarget.getFullYear()}`;
      };

      updateCountdown();
      setInterval(updateCountdown, 1000);
    </script>
  </body>
</html>
